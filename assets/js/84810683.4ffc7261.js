"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[81271],{15680:(e,a,t)=>{t.d(a,{xA:()=>o,yg:()=>m});var n=t(96540);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var y=n.createContext({}),i=function(e){var a=n.useContext(y),t=a;return e&&(t="function"==typeof e?e(a):g(g({},a),e)),t},o=function(e){var a=i(e.components);return n.createElement(y.Provider,{value:a},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,l=e.mdxType,r=e.originalType,y=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),u=i(t),d=l,m=u["".concat(y,".").concat(d)]||u[d]||s[d]||r;return t?n.createElement(m,g(g({ref:a},o),{},{components:t})):n.createElement(m,g({ref:a},o))}));function m(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=t.length,g=new Array(r);g[0]=d;var p={};for(var y in a)hasOwnProperty.call(a,y)&&(p[y]=a[y]);p.originalType=e,p[u]="string"==typeof e?e:l,g[1]=p;for(var i=2;i<r;i++)g[i]=t[i];return n.createElement.apply(null,g)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2214:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>y,contentTitle:()=>g,default:()=>s,frontMatter:()=>r,metadata:()=>p,toc:()=>i});var n=t(58168),l=(t(96540),t(15680));const r={title:"common@1.14.0",id:"common-docs",keywords:["adaptor","common","arrayToString","asData","chunk","combine","composeNextState","cursor","dataPath","dataValue","each","execute","expandReferences","field","fields","fn","fnIf","humanProper","index","join","jsonValue","lastReferenceValue","map","merge","parseCsv","referencePath","scrubEmojis","source","sourceValue","splitKeys","toArray"]},g=void 0,p={unversionedId:"packages/common-docs",id:"packages/common-docs",title:"common@1.14.0",description:"Functions",source:"@site/adaptors/packages/common-docs.md",sourceDirName:"packages",slug:"/packages/common-docs",permalink:"/adaptors/packages/common-docs",draft:!1,tags:[],version:"current",frontMatter:{title:"common@1.14.0",id:"common-docs",keywords:["adaptor","common","arrayToString","asData","chunk","combine","composeNextState","cursor","dataPath","dataValue","each","execute","expandReferences","field","fields","fn","fnIf","humanProper","index","join","jsonValue","lastReferenceValue","map","merge","parseCsv","referencePath","scrubEmojis","source","sourceValue","splitKeys","toArray"]},sidebar:"adaptors",previous:{title:"commcare developer readme",permalink:"/adaptors/packages/commcare-readme"},next:{title:"Config for common",permalink:"/adaptors/packages/common-configuration-schema"}},y={},i=[{value:"Functions",id:"functions",level:2},{value:"alterState",id:"alterstate",level:2},{value:"arrayToString",id:"arraytostring",level:2},{value:"asData",id:"asdata",level:2},{value:"chunk",id:"chunk",level:2},{value:"combine",id:"combine",level:2},{value:"composeNextState",id:"composenextstate",level:2},{value:"cursor",id:"cursor",level:2},{value:"dataPath",id:"datapath",level:2},{value:"dataValue",id:"datavalue",level:2},{value:"del",id:"del",level:2},{value:"each",id:"each",level:2},{value:"each",id:"each-1",level:2},{value:"expandReferences",id:"expandreferences",level:2},{value:"expandRequestReferences",id:"expandrequestreferences",level:2},{value:"field",id:"field",level:2},{value:"fields",id:"fields",level:2},{value:"fn",id:"fn",level:2},{value:"fnIf",id:"fnif",level:2},{value:"get",id:"get",level:2},{value:"head",id:"head",level:2},{value:"humanProper",id:"humanproper",level:2},{value:"index",id:"index",level:2},{value:"join",id:"join",level:2},{value:"jsonValue",id:"jsonvalue",level:2},{value:"lastReferenceValue",id:"lastreferencevalue",level:2},{value:"map",id:"map",level:2},{value:"merge",id:"merge",level:2},{value:"options",id:"options",level:2},{value:"parseCsv",id:"parsecsv",level:2},{value:"patch",id:"patch",level:2},{value:"post",id:"post",level:2},{value:"put",id:"put",level:2},{value:"referencePath",id:"referencepath",level:2},{value:"request",id:"request",level:2},{value:"scrubEmojis",id:"scrubemojis",level:2},{value:"source",id:"source",level:2},{value:"sourceValue",id:"sourcevalue",level:2},{value:"splitKeys",id:"splitkeys",level:2},{value:"toArray",id:"toarray",level:2},{value:"validate",id:"validate",level:2},{value:"withAgent",id:"withagent",level:2}],o={toc:i},u="wrapper";function s(e){let{components:a,...t}=e;return(0,l.yg)(u,(0,n.A)({},o,t,{components:a,mdxType:"MDXLayout"}),(0,l.yg)("h2",{id:"functions"},"Functions"),(0,l.yg)("dl",null,(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#alterstate"},"alterState(func)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#arraytostring"},"arrayToString(arr, separator)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#asdata"},"asData(data, state)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#chunk"},"chunk(array, chunkSize)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#combine"},"combine(operations)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#composenextstate"},"composeNextState(state, response)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#cursor"},"cursor(value, options)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#datapath"},"dataPath(path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#datavalue"},"dataValue(path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#del"},"del(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#each"},"each(dataSource, operation)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#each"},"each(dataSource, operation)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#expandreferences"},"expandReferences(value, [skipFilter])")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#expandrequestreferences"},"expandRequestReferences(value)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#field"},"field(key, value)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#fields"},"fields(fields)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#fn"},"fn(func)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#fnif"},"fnIf(condition, operation)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#get"},"get(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#head"},"head(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#humanproper"},"humanProper(str)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#index"},"index()")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#join"},"join(targetPath, sourcePath, targetKey)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#jsonvalue"},"jsonValue(obj, path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#lastreferencevalue"},"lastReferenceValue(path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#map"},"map(path, operation, state)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#merge"},"merge(dataSource, fields)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#options"},"options(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#parsecsv"},"parseCsv(csvData, [parsingOptions], [callback])")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#patch"},"patch(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#post"},"post(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#put"},"put(requestParams)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#referencepath"},"referencePath(path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#request"},"request(method, fullUrlOrPath, [options])")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#scrubemojis"},"scrubEmojis(text, replacementChars)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#source"},"source(path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#sourcevalue"},"sourceValue(path)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#splitkeys"},"splitKeys(obj, keys)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#toarray"},"toArray(arg)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#validate"},"validate(schema, data)")),(0,l.yg)("dt",null,(0,l.yg)("a",{href:"#withagent"},"withAgent(params)"))),(0,l.yg)("h2",{id:"alterstate"},"alterState"),(0,l.yg)("p",null,"alterState(func) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,'alias for "fn()"'),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"func"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null},"is the function")))),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"arraytostring"},"arrayToString"),(0,l.yg)("p",null,"arrayToString(arr, separator) \u21d2 ",(0,l.yg)("code",null,"string")),(0,l.yg)("p",null,"Turns an array into a string, separated by X."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"arr"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"array")),(0,l.yg)("td",{parentName:"tr",align:null},"Array of toString'able primatives.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"separator"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"Separator string.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'field("destination_string__c", function(state) {\n  return arrayToString(dataValue("path_of_array")(state), \', \')\n})\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"asdata"},"asData"),(0,l.yg)("p",null,"asData(data, state) \u21d2 ",(0,l.yg)("code",null,"array")),(0,l.yg)("p",null,"Simple switcher allowing other expressions to use either a JSONPath or\nobject literals as a data source."),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"li"},"state")),(0,l.yg)("li",{parentName:"ul"},"Object Literal of the data itself."),(0,l.yg)("li",{parentName:"ul"},"Function to be called with state.")),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"data"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")," ","|"," ",(0,l.yg)("code",null,"object")," ","|"," ",(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null})),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"state"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"The current state.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"asData('$.key'| key | callback)\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"chunk"},"chunk"),(0,l.yg)("p",null,"chunk(array, chunkSize) \u21d2 ",(0,l.yg)("code",null,"Object")),(0,l.yg)("p",null,"Chunks an array into an array of arrays, each with no more than a certain size."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"array"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Object")),(0,l.yg)("td",{parentName:"tr",align:null},"Array to be chunked")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"chunkSize"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Integer")),(0,l.yg)("td",{parentName:"tr",align:null},"The maxiumum size of each chunks")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"chunk([1,2,3,4,5], 2)\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"combine"},"combine"),(0,l.yg)("p",null,"combine(operations) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Combines two operations into one"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"operations"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Operations")),(0,l.yg)("td",{parentName:"tr",align:null},"Operations to be performed.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"combine(\n  create('foo'),\n  delete('bar')\n)\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"composenextstate"},"composeNextState"),(0,l.yg)("p",null,"composeNextState(state, response) \u21d2 ",(0,l.yg)("code",null,"State")),(0,l.yg)("p",null,"Prepares next state"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"state"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"State")),(0,l.yg)("td",{parentName:"tr",align:null},"state")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"response"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Object")),(0,l.yg)("td",{parentName:"tr",align:null},"Response to be added")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"composeNextState(state, response)\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"cursor"},"cursor"),(0,l.yg)("p",null,"cursor(value, options) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Sets a cursor property on state.\nSupports natural language dates like ",(0,l.yg)("inlineCode",{parentName:"p"},"now"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"today"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"yesterday"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"n hours ago"),", ",(0,l.yg)("inlineCode",{parentName:"p"},"n days ago"),", and ",(0,l.yg)("inlineCode",{parentName:"p"},"start"),",\nwhich will be converted relative to the environment (ie, the Lightning or CLI locale). Custom timezones\nare not yet supported.\nYou can provide a formatter to customise the final cursor value, which is useful for normalising\ndifferent inputs. The custom formatter runs after natural language date conversion.\nSee the usage guide at ",(0,l.yg)("a",{parentName:"p",href:"https://docs.openfn.org/documentation/jobs/job-writing-guide#using-cursors"},"https://docs.openfn.org/documentation/jobs/job-writing-guide#using-cursors")),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"value"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"any")),(0,l.yg)("td",{parentName:"tr",align:null},"the cursor value. Usually an ISO date, natural language date, or page number")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"options"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"options to control the cursor.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"options.key"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"set the cursor key. Will persist through the whole run.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"options.defaultValue"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"any")),(0,l.yg)("td",{parentName:"tr",align:null},"the value to use if value is falsy")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"options.format"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null},"custom formatter for the final cursor value")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Use a cursor from state if present, or else use the default value)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"cursor($.cursor, { defaultValue: 'today' })\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Use a pagination cursor)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"cursor(22)\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"datapath"},"dataPath"),(0,l.yg)("p",null,"dataPath(path) \u21d2 ",(0,l.yg)("code",null,"string")),(0,l.yg)("p",null,"Ensures a path points at the data."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"data"),".")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"dataPath('key')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"datavalue"},"dataValue"),(0,l.yg)("p",null,"dataValue(path) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Picks out a single value from the source data object\u2014usually ",(0,l.yg)("inlineCode",{parentName:"p"},"state.data"),".\nIf a JSONPath returns more than one value for the reference, the first\nitem will be returned."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"data"),".")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"dataValue('key')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"del"},"del"),(0,l.yg)("p",null,"del(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a DELETE request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Deleting a record with data that comes from state)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"delete({\n   url: state => `https://www.example.com/api/items/${state.id}`,\n })(state);\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"each"},"each"),(0,l.yg)("p",null,"each(dataSource, operation) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Scopes an array of data based on a JSONPath.\nUseful when the source data has ",(0,l.yg)("inlineCode",{parentName:"p"},"n")," items you would like to map to\nan operation.\nThe operation will receive a slice of the data based of each item\nof the JSONPath provided."),(0,l.yg)("p",null,"It also ensures the results of an operation make their way back into\nthe state's references."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"dataSource"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"DataSource")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"state"),".")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"operation"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Operation")),(0,l.yg)("td",{parentName:"tr",align:null},"The operation needed to be repeated.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'each("$.[*]",\n  create("SObject",\n    field("FirstName", sourceValue("$.firstName"))\n  )\n)\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"each-1"},"each"),(0,l.yg)("p",null,"each(dataSource, operation) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Scopes an array of data based on a JSONPath.\nUseful when the source data has ",(0,l.yg)("inlineCode",{parentName:"p"},"n")," items you would like to map to\nan operation.\nThe operation will receive a slice of the data based of each item\nof the JSONPath provided."),(0,l.yg)("p",null,"It also ensures the results of an operation make their way back into\nthe state's references."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"dataSource"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"DataSource")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"state"),".")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"operation"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Operation")),(0,l.yg)("td",{parentName:"tr",align:null},"The operation needed to be repeated.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'each("$.[*]",\n   create("SObject",\n   field("FirstName", sourceValue("$.firstName")))\n )\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"expandreferences"},"expandReferences"),(0,l.yg)("p",null,"expandReferences(value, ","[skipFilter]",") \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Recursively resolves objects that have resolvable values (functions)."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"value"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"data")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"[skipFilter]"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null},"a function which returns true if a value should be skipped")))),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"expandrequestreferences"},"expandRequestReferences"),(0,l.yg)("p",null,"expandRequestReferences(value) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Recursively resolves objects that have resolvable values (functions), but\nomits HTTP request specific modules like ",(0,l.yg)("inlineCode",{parentName:"p"},"FormData"),"."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"value"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"data")))),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"field"},"field"),(0,l.yg)("p",null,"field(key, value) \u21d2 ",(0,l.yg)("code",null,"Field")),(0,l.yg)("p",null,"Returns a key, value pair in an array."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"key"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"Name of the field")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"value"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Value")),(0,l.yg)("td",{parentName:"tr",align:null},"The value itself or a sourceable operation.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"field('destination_field_name__c', 'value')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"fields"},"fields"),(0,l.yg)("p",null,"fields(fields) \u21d2 ",(0,l.yg)("code",null,"Object")),(0,l.yg)("p",null,"Zips key value pairs into an object."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"fields"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Fields")),(0,l.yg)("td",{parentName:"tr",align:null},"a list of fields")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"fields(list_of_fields)\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"fn"},"fn"),(0,l.yg)("p",null,"fn(func) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Creates a custom step (or operation) for more flexible job writing."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"func"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null},"is the function")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"fn(state => {\n  // do some things to state\n  return state;\n});\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"fnif"},"fnIf"),(0,l.yg)("p",null,"fnIf(condition, operation) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"A custom operation that will only execute the function if the condition returns true"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"condition"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Boolean")),(0,l.yg)("td",{parentName:"tr",align:null},"The condition that returns true")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"operation"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Operation")),(0,l.yg)("td",{parentName:"tr",align:null},"The operation needed to be executed.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'fnIf((state) => state?.data?.name, get("https://example.com"));\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"get"},"get"),(0,l.yg)("p",null,"get(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a GET request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Get an item with a specified id from state)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},' get({\n     url: state => `https://www.example.com/api/items/${state.id},\n     headers: {"content-type": "application/json"}\n});\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"head"},"head"),(0,l.yg)("p",null,"head(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a HEAD request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Gets the headers that would be returned if the HEAD request","'","s URL was instead requested with the HTTP GET method)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"head({\n  url: 'https://www.example.com/api/items',\n});\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"humanproper"},"humanProper"),(0,l.yg)("p",null,"humanProper(str) \u21d2 ",(0,l.yg)("code",null,"string")),(0,l.yg)("p",null,"Substitutes underscores for spaces and proper-cases a string"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"str"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"String that needs converting")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'field("destination_string__c", humanProper(state.data.path_to_string))\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"index"},"index"),(0,l.yg)("p",null,"index() \u21d2 ",(0,l.yg)("code",null,"DataSource")),(0,l.yg)("p",null,"Returns the index of the current array being iterated.\nTo be used with ",(0,l.yg)("inlineCode",{parentName:"p"},"each")," as a data source."),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"index()\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"join"},"join"),(0,l.yg)("p",null,"join(targetPath, sourcePath, targetKey) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Adds data from a target object"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"targetPath"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"Target path")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"sourcePath"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"Source path")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"targetKey"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"Target Key")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"join('$.key','$.data','newKey')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"jsonvalue"},"jsonValue"),(0,l.yg)("p",null,"jsonValue(obj, path) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Picks out a single value from a JSON object.\nIf a JSONPath returns more than one value for the reference, the first\nitem will be returned."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"obj"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"A valid JSON object.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in given JSON object.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"jsonValue({ a:1 }, 'a')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"lastreferencevalue"},"lastReferenceValue"),(0,l.yg)("p",null,"lastReferenceValue(path) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Picks out the last reference value from source data."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"references"),".")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"lastReferenceValue('key')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"map"},"map"),(0,l.yg)("p",null,"map(path, operation, state) \u21d2 ",(0,l.yg)("code",null,"State")),(0,l.yg)("p",null,"Scopes an array of data based on a JSONPath.\nUseful when the source data has ",(0,l.yg)("inlineCode",{parentName:"p"},"n")," items you would like to map to\nan operation.\nThe operation will receive a slice of the data based of each item\nof the JSONPath provided."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"state.data"),".")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"operation"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null},"The operation needed to be repeated.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"state"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"State")),(0,l.yg)("td",{parentName:"tr",align:null},"Runtime state.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'map("$.[*]",\n  create("SObject",\n    field("FirstName", sourceValue("$.firstName"))\n  )\n)\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"merge"},"merge"),(0,l.yg)("p",null,"merge(dataSource, fields) \u21d2 ",(0,l.yg)("code",null,"DataSource")),(0,l.yg)("p",null,"Merges fields into each item in an array."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"dataSource"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"DataSource")),(0,l.yg)("td",{parentName:"tr",align:null})),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"fields"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Object")),(0,l.yg)("td",{parentName:"tr",align:null},"Group of fields to merge in.")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'merge(\n  "$.books[*]",\n  fields(\n    field( "publisher", sourceValue("$.publisher") )\n  )\n)\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"options"},"options"),(0,l.yg)("p",null,"options(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a OPTIONS request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Requests permitted communication options for a given URL or server, with data from state.)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"options({\n  url: 'https://www.example.com/api/items',\n});\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"parsecsv"},"parseCsv"),(0,l.yg)("p",null,"parseCsv(csvData, ","[parsingOptions]",", ","[callback]",") \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Takes a CSV file string or stream and parsing options as input, and returns a promise that\nresolves to the parsed CSV data as an array of objects.\nOptions for ",(0,l.yg)("inlineCode",{parentName:"p"},"parsingOptions")," include:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"delimiter")," {string/Buffer/","[string/Buffer]","} - Defines the character(s) used to delineate the fields inside a record. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"','")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"quote")," {string/Buffer/","[string/Buffer]","} - Defines the characters used to surround a field. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"'\"'")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"escape")," {Buffer/string/null/boolean} - Set the escape character as one character/byte only. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},'"')),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"columns")," {boolean / array / function} - Generates record in the form of object literals. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"true")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"bom")," {boolean} - Strips the ",(0,l.yg)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Byte_order_mark"},"byte order mark (BOM)")," from the input string or buffer. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"true")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"trim")," {boolean} - Ignore whitespace characters immediately around the ",(0,l.yg)("inlineCode",{parentName:"li"},"delimiter"),". Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"true")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ltrim")," {boolean} - Ignore whitespace characters from the left side of a CSV field. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"true")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rtrim")," {boolean} - Ignore whitespace characters from the right side of a CSV field. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"true")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"chunkSize")," {number} - The size of each chunk of CSV data. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"Infinity")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"skip_empty_lines")," {boolean} - Ignore empty lines in the CSV file. Default: ",(0,l.yg)("inlineCode",{parentName:"li"},"true"))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - The function returns a Promise that resolves to the result of parsing a CSV ",(0,l.yg)("inlineCode",{parentName:"p"},"stringOrStream"),".  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"csvData"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")," ","|"," ",(0,l.yg)("code",null,"Stream")),(0,l.yg)("td",{parentName:"tr",align:null},"A CSV string or a readable stream")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"[parsingOptions]"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Object")),(0,l.yg)("td",{parentName:"tr",align:null},"Optional. Parsing options for converting CSV to JSON.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"function")),(0,l.yg)("td",{parentName:"tr",align:null},"(Optional) callback function. If used it will be called state and an array of rows.")))),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"patch"},"patch"),(0,l.yg)("p",null,"patch(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a PATCH request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Applies partial modifications to a resource, with data from state.)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"patch({\n  url: state => `https://www.example.com/api/items/${state.id}`,\n  data: state => state.data\n});\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"post"},"post"),(0,l.yg)("p",null,"post(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a POST request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Sending a payload with data that comes from state)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'post({\n  url: "https://example.com",\n  data: (state) => state.data\n});\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"( Capturing the response for later use in state )"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'alterState((state) => {\n  return post({\n    url: "https://example.com",\n    data: (state) => state.data\n  })(state).then(({response}) => {\n   state.responseData = response.data\n  })\n});\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"put"},"put"),(0,l.yg)("p",null,"put(requestParams) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Make a PUT request"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Operation")," - - Function which takes state and returns a Promise  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"requestParams"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"Supports the exact parameters as Axios. See ",(0,l.yg)("a",{parentName:"td",href:"https://github.com/axios/axios#axios-api"},"here"))))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Creates a new resource or replaces a representation of the target resource with the request payload, with data from state.)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"put({\n  url: state => `https://www.example.com/api/items/${state.id}`,\n  data: state => state.data\n});\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"referencepath"},"referencePath"),(0,l.yg)("p",null,"referencePath(path) \u21d2 ",(0,l.yg)("code",null,"string")),(0,l.yg)("p",null,"Ensures a path points at references."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"references"),".")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"referencePath('key')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"request"},"request"),(0,l.yg)("p",null,"request(method, fullUrlOrPath, ","[options]",") \u21d2"),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"request")," is a helper function that sends HTTP requests and returns the response\nbody, headers, and status code.\nUse the error map to provide custom error messages or get hold of the response in case of errors."),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": an object with the following properties:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"method: the request method"),(0,l.yg)("li",{parentName:"ul"},"url: the request url"),(0,l.yg)("li",{parentName:"ul"},"code: the status code of the response"),(0,l.yg)("li",{parentName:"ul"},"headers: the headers of the response"),(0,l.yg)("li",{parentName:"ul"},"body: the body of the response"),(0,l.yg)("li",{parentName:"ul"},"message: the status text of the response"),(0,l.yg)("li",{parentName:"ul"},"duration: the response time  ")),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"method"),(0,l.yg)("td",{parentName:"tr",align:null},'The HTTP method to use for the request (e.g., "GET", "POST", "PUT", "DELETE", etc.).')),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"fullUrlOrPath"),(0,l.yg)("td",{parentName:"tr",align:null},"The full or partial URL for the request.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"[options]"),(0,l.yg)("td",{parentName:"tr",align:null},"The ",(0,l.yg)("inlineCode",{parentName:"td"},"options")," parameter is an object that contains additional configuration options for the request.")))),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"scrubemojis"},"scrubEmojis"),(0,l.yg)("p",null,"scrubEmojis(text, replacementChars) \u21d2 ",(0,l.yg)("code",null,"string")),(0,l.yg)("p",null,"Replaces emojis in a string."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"text"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"String that needs to be cleaned")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"replacementChars"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")),(0,l.yg)("td",{parentName:"tr",align:null},"Characters that replace the emojis")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"scrubEmojis('Dove\ud83d\udd4a\ufe0f\u2b50 29')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"source"},"source"),(0,l.yg)("p",null,"source(path) \u21d2 ",(0,l.yg)("code",null,"Array.","<","(String","|","Object)",">")),(0,l.yg)("p",null,"Picks out a value from source data.\nWill return whatever JSONPath returns, which will always be an array.\nIf you need a single value use ",(0,l.yg)("inlineCode",{parentName:"p"},"sourceValue")," instead."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"state"),".")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"source('$.key')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"sourcevalue"},"sourceValue"),(0,l.yg)("p",null,"sourceValue(path) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Picks out a single value from source data.\nIf a JSONPath returns more than one value for the reference, the first\nitem will be returned."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"path"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"String")),(0,l.yg)("td",{parentName:"tr",align:null},"JSONPath referencing a point in ",(0,l.yg)("inlineCode",{parentName:"td"},"state"),".")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"sourceValue('$.key')\n")),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"splitkeys"},"splitKeys"),(0,l.yg)("p",null,"splitKeys(obj, keys) \u21d2 ",(0,l.yg)("code",null,"Array.","<","Object",">")),(0,l.yg)("p",null,"Splits an object into two objects based on a list of keys.\nThe first object contains the keys that are not in the list,\nand the second contains the keys that are."),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Returns"),": ",(0,l.yg)("code",null,"Array.","<","Object",">")," - - Tuple of objects, first object contains keys not in list, second contains keys that are.  "),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"obj"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Object")),(0,l.yg)("td",{parentName:"tr",align:null},"The object to split.")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"keys"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"Array.","<","string",">")),(0,l.yg)("td",{parentName:"tr",align:null},"List of keys to split on.")))),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"toarray"},"toArray"),(0,l.yg)("p",null,"toArray(arg) \u21d2 ",(0,l.yg)("code",null,"array")),(0,l.yg)("p",null,"Ensures primitive data types are wrapped in an array.\nDoes not affect array objects."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"arg"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"any")),(0,l.yg)("td",{parentName:"tr",align:null},"Data required to be in an array")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'each(function(state) {\n  return toArray( dataValue("path_of_array")(state) )\n}, ...)\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"validate"},"validate"),(0,l.yg)("p",null,"validate(schema, data) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Validate against a JSON schema. Any erors are written to an array at ",(0,l.yg)("inlineCode",{parentName:"p"},"state.validationErrors"),".\nSchema can be passed directly, loaded as a JSON path from state, or loaded from a URL\nData can be passed directly or loaded as a JSON path from state.\nBy default, schema is loaded from ",(0,l.yg)("inlineCode",{parentName:"p"},"state.schema")," and data from ",(0,l.yg)("inlineCode",{parentName:"p"},"state.data"),"."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"schema"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")," ","|"," ",(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"The schema, path or URL to validate against")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"data"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"string")," ","|"," ",(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"The data or path to validate")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Validate ","`","state.data","`"," with ","`","state.schema","`",")"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"validate()\n")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Validate form data at ","`","state.form","`"," with a schema from a URL)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'validate("https://www.example.com/schema/record", "form")\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Example")," ",(0,l.yg)("em",{parentName:"p"},"(Validate the each item in ","`","state.records","`"," with a schema from a URL)"),"  "),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'each("records[*]", validate("https://www.example.com/schema/record"))\n')),(0,l.yg)("hr",null),(0,l.yg)("h2",{id:"withagent"},"withAgent"),(0,l.yg)("p",null,"withAgent(params) \u21d2 ",(0,l.yg)("code",null,"Operation")),(0,l.yg)("p",null,"Creates an https agent for axios from the agentOptions key passed in params."),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Param"),(0,l.yg)("th",{parentName:"tr",align:null},"Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"params"),(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("code",null,"object")),(0,l.yg)("td",{parentName:"tr",align:null},"data")))),(0,l.yg)("hr",null))}s.isMDXComponent=!0}}]);