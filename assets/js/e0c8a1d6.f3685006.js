"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[28109],{15680:(e,a,t)=>{t.d(a,{xA:()=>d,yg:()=>s});var n=t(96540);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),i=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):g(g({},a),e)),t},d=function(e){var a=i(e.components);return n.createElement(o.Provider,{value:a},e.children)},y="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),y=i(t),m=r,s=y["".concat(o,".").concat(m)]||y[m]||u[m]||l;return t?n.createElement(s,g(g({ref:a},d),{},{components:t})):n.createElement(s,g({ref:a},d))}));function s(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,g=new Array(l);g[0]=m;var p={};for(var o in a)hasOwnProperty.call(a,o)&&(p[o]=a[o]);p.originalType=e,p[y]="string"==typeof e?e:r,g[1]=p;for(var i=2;i<l;i++)g[i]=t[i];return n.createElement.apply(null,g)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8931:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>g,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>i});var n=t(58168),r=(t(96540),t(15680));const l={title:"dhis2@4.1.0",id:"dhis2-docs",keywords:["adaptor","dhis2","attr","create","destroy","discover","dv","findAttributeValue","get","patch","update","upsert"]},g=void 0,p={unversionedId:"packages/dhis2-docs",id:"packages/dhis2-docs",title:"dhis2@4.1.0",description:"Functions",source:"@site/adaptors/packages/dhis2-docs.md",sourceDirName:"packages",slug:"/packages/dhis2-docs",permalink:"/adaptors/packages/dhis2-docs",draft:!1,tags:[],version:"current",frontMatter:{title:"dhis2@4.1.0",id:"dhis2-docs",keywords:["adaptor","dhis2","attr","create","destroy","discover","dv","findAttributeValue","get","patch","update","upsert"]},sidebar:"adaptors",previous:{title:"DHIS2",permalink:"/adaptors/dhis2"},next:{title:"Config for dhis2",permalink:"/adaptors/packages/dhis2-configuration-schema"}},o={},i=[{value:"Functions",id:"functions",level:2},{value:"attr",id:"attr",level:2},{value:"configMigrationHelper",id:"configmigrationhelper",level:2},{value:"create",id:"create",level:2},{value:"destroy",id:"destroy",level:2},{value:"discover",id:"discover",level:2},{value:"dv",id:"dv",level:2},{value:"findAttributeValue",id:"findattributevalue",level:2},{value:"get",id:"get",level:2},{value:"patch",id:"patch",level:2},{value:"request",id:"request",level:2},{value:"selectId",id:"selectid",level:2},{value:"update",id:"update",level:2},{value:"upsert",id:"upsert",level:2}],d={toc:i},y="wrapper";function u(e){let{components:a,...t}=e;return(0,r.yg)(y,(0,n.A)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"functions"},"Functions"),(0,r.yg)("dl",null,(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#attr"},"attr(attribute, value)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#configmigrationhelper"},"configMigrationHelper(state)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#create"},"create(resourceType, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#destroy"},"destroy(resourceType, path, [data], [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#discover"},"discover(httpMethod, endpoint)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#dv"},"dv(dataElement, value)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#findattributevalue"},"findAttributeValue(trackedEntityInstance, attributeDisplayName)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#get"},"get(resourceType, query, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#patch"},"patch(resourceType, path, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#request"},"request(configuration, axiosRequest)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#selectid"},"selectId(resourceType)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#update"},"update(resourceType, path, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#upsert"},"upsert(resourceType, query, data, [options], [callback])"))),(0,r.yg)("p",null,"The following functions are exported from the common adaptor:"),(0,r.yg)("dl",null,(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#alterstate"},"alterState()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#datapath"},"dataPath()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#datavalue"},"dataValue()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#datefns"},"dateFns()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#each"},"each()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#field"},"field()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#fields"},"fields()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#fn"},"fn()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#fnif"},"fnIf()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#http"},"http()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#lastreferencevalue"},"lastReferenceValue()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#merge"},"merge()")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"/adaptors/packages/common-docs#sourcevalue"},"sourceValue()"))),(0,r.yg)("h2",{id:"attr"},"attr"),(0,r.yg)("p",null,"attr(attribute, value) \u21d2 ",(0,r.yg)("code",null,"object")),(0,r.yg)("p",null,"Converts an attribute ID and value into a DSHI2 attribute object"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"attribute"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"A tracked entity instance (TEI) attribute ID.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"value"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The value for that attribute.")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"attr('w75KJ2mc4zz', 'Elias')\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"configmigrationhelper"},"configMigrationHelper"),(0,r.yg)("p",null,"configMigrationHelper(state) \u21d2 ",(0,r.yg)("code",null,"object")),(0,r.yg)("p",null,"Migrates ",(0,r.yg)("inlineCode",{parentName:"p"},"apiUrl")," to ",(0,r.yg)("inlineCode",{parentName:"p"},"hostUrl")," if ",(0,r.yg)("inlineCode",{parentName:"p"},"hostUrl")," is ",(0,r.yg)("inlineCode",{parentName:"p"},"blank"),".\nFor ",(0,r.yg)("inlineCode",{parentName:"p"},"OpenFn.org")," users with the ",(0,r.yg)("inlineCode",{parentName:"p"},"old-style configuration"),"."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"state"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"object")),(0,r.yg)("td",{parentName:"tr",align:null},"the runtime state")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"configMigrationHelper(state)\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"create"},"create"),(0,r.yg)("p",null,"create(resourceType, data, ","[options]",", ","[callback]",") \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Create a record"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"Type of resource to create. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntityInstances"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"programs"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"events"),", ...")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Dhis2Data")),(0,r.yg)("td",{parentName:"tr",align:null},"Object which defines data that will be used to create a given instance of resource. To create a single instance of a resource, ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," must be a javascript object, and to create multiple instances of a resources, ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," must be an array of javascript objects.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"filter"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"dimension")," and other import parameters), request config (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and the DHIS2 apiVersion.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a program)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('programs', {\n  name: 'name 20',\n  shortName: 'n20',\n  programType: 'WITHOUT_REGISTRATION',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(an event)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('events', {\n  program: 'eBAyeGv0exc',\n  orgUnit: 'DiszpKrYNg8',\n  status: 'COMPLETED',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a trackedEntityInstance)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('trackedEntityInstances', {\n  orgUnit: 'TSyzvBiovKh',\n  trackedEntityType: 'nEenWmSyUEp',\n  attributes: [\n    {\n      attribute: 'w75KJ2mc4zz',\n      value: 'Gigiwe',\n    },\n  ]\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataSet)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataSets', { name: 'OpenFn Data Set', periodType: 'Monthly' });\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataSetNotification)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataSetNotificationTemplates', {\n  dataSetNotificationTrigger: 'DATA_SET_COMPLETION',\n  notificationRecipient: 'ORGANISATION_UNIT_CONTACT',\n  name: 'Notification',\n  messageTemplate: 'Hello',\n  deliveryChannels: ['SMS'],\n  dataSets: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElement)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataElements', {\n  aggregationType: 'SUM',\n  domainType: 'AGGREGATE',\n  valueType: 'NUMBER',\n  name: 'Paracetamol',\n  shortName: 'Para',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElementGroup)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataElementGroups', {\n  name: 'Data Element Group 1',\n  dataElements: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElementGroupSet)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataElementGroupSets', {\n  name: 'Data Element Group Set 4',\n  dataDimension: true,\n  shortName: 'DEGS4',\n  dataElementGroups: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataValueSet)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataValueSets', {\n  dataElement: 'f7n9E0hX8qk',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  value: '12',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataValueSet with related dataValues)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataValueSets', {\n  dataSet: 'pBOMPrpg1QX',\n  completeDate: '2014-02-03',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  dataValues: [\n    {\n      dataElement: 'f7n9E0hX8qk',\n      value: '1',\n    },\n    {\n      dataElement: 'Ix2HsbDMLea',\n      value: '2',\n    },\n    {\n      dataElement: 'eY5ehpbEsB7',\n      value: '3',\n    },\n  ],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(an enrollment)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('enrollments', {\n  trackedEntityInstance: 'bmshzEacgxa',\n  orgUnit: 'TSyzvBiovKh',\n  program: 'gZBxv9Ujxg0',\n  enrollmentDate: '2013-09-17',\n  incidentDate: '2013-09-17',\n});\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"destroy"},"destroy"),(0,r.yg)("p",null,"destroy(resourceType, path, ","[data]",", ","[options]",", ","[callback]",") \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Delete a record. A generic helper function to delete an object"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to be deleted. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntityInstances"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"path"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"Can be an ",(0,r.yg)("inlineCode",{parentName:"td"},"id")," of an ",(0,r.yg)("inlineCode",{parentName:"td"},"object")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"path")," to the ",(0,r.yg)("inlineCode",{parentName:"td"},"nested object")," to ",(0,r.yg)("inlineCode",{parentName:"td"},"delete"),".")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[data]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional. This is useful when you want to remove multiple objects from a collection in one request. You can send ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," as, for example, ",(0,r.yg)("inlineCode",{parentName:"td"},'{"identifiableObjects": [{"id": "IDA"}, {"id": "IDB"}, {"id": "IDC"}]}'),". See more ",(0,r.yg)("a",{parentName:"td",href:"https://docs.dhis2.org/2.34/en/dhis2_developer_manual/web-api.html#deleting-objects"},"on DHIS2 API docs"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," for ",(0,r.yg)("inlineCode",{parentName:"td"},"del")," operation including params e.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"{preheatCache: true, strategy: 'UPDATE', mergeMode: 'REPLACE'}"),". Run ",(0,r.yg)("inlineCode",{parentName:"td"},"discover")," or see ",(0,r.yg)("a",{parentName:"td",href:"https://docs.dhis2.org/2.34/en/dhis2_developer_manual/web-api.html#create-update-parameters"},"DHIS2 documentation"),". Defaults to ",(0,r.yg)("inlineCode",{parentName:"td"},"{operationName: 'delete', apiVersion: state.configuration.apiVersion, responseType: 'json'}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a tracked entity instance)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"destroy('trackedEntityInstances', 'LcRd6Nyaq7T');\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"discover"},"discover"),(0,r.yg)("p",null,"discover(httpMethod, endpoint) \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Discover ",(0,r.yg)("inlineCode",{parentName:"p"},"DHIS2")," ",(0,r.yg)("inlineCode",{parentName:"p"},"api")," ",(0,r.yg)("inlineCode",{parentName:"p"},"endpoint")," ",(0,r.yg)("inlineCode",{parentName:"p"},"query parameters")," and allowed ",(0,r.yg)("inlineCode",{parentName:"p"},"operators")," for a given resource's endpoint."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"httpMethod"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The HTTP to inspect parameter usage for a given endpoint, e.g., ",(0,r.yg)("inlineCode",{parentName:"td"},"get"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"post"),",",(0,r.yg)("inlineCode",{parentName:"td"},"put"),",",(0,r.yg)("inlineCode",{parentName:"td"},"patch"),",",(0,r.yg)("inlineCode",{parentName:"td"},"delete"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"endpoint"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The path for a given endpoint. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"/trackedEntityInstances")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"/dataValueSets"))))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a list of parameters allowed on a given endpoint for specific http method)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"discover('post', '/trackedEntityInstances')\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"dv"},"dv"),(0,r.yg)("p",null,"dv(dataElement, value) \u21d2 ",(0,r.yg)("code",null,"object")),(0,r.yg)("p",null,"Converts a dataElement and value into a DSHI2 dataValue object"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"dataElement"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"A data element ID.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"value"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The value for that data element.")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"dv('f7n9E0hX8qk', 12)\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"findattributevalue"},"findAttributeValue"),(0,r.yg)("p",null,"findAttributeValue(trackedEntityInstance, attributeDisplayName) \u21d2 ",(0,r.yg)("code",null,"string")),(0,r.yg)("p",null,"Gets an attribute value by its case-insensitive display name"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"trackedEntityInstance"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"A tracked entity instance (TEI) object")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"attributeDisplayName"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The 'displayName' to search for in the TEI's attributes")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"findAttributeValue(state.data.trackedEntityInstances[0], 'first name')\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"get"},"get"),(0,r.yg)("p",null,"get(resourceType, query, ","[options]",", ","[callback]",") \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Get data. Generic helper method for getting data of any kind from DHIS2."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"This can be used to get ",(0,r.yg)("inlineCode",{parentName:"li"},"DataValueSets"),",",(0,r.yg)("inlineCode",{parentName:"li"},"events"),",",(0,r.yg)("inlineCode",{parentName:"li"},"trackedEntityInstances"),",",(0,r.yg)("inlineCode",{parentName:"li"},"etc."))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns"),": ",(0,r.yg)("code",null,"Operation")," - state  "),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to get(use its ",(0,r.yg)("inlineCode",{parentName:"td"},"plural")," name). E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"dataElements"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntityInstances"),",",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"query"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"A query object that will limit what resources are retrieved when converted into request params.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params beyond filters, request configuration (e.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and DHIS2 api version to use.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(all data values for the ","'","pBOMPrpg1QX","'"," dataset)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('dataValueSets', {\n  dataSet: 'pBOMPrpg1QX',\n  orgUnit: 'DiszpKrYNg8',\n  period: '201401',\n  fields: '*',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(all programs for an organization unit)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('programs', { orgUnit: 'TSyzvBiovKh', fields: '*' });\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a single tracked entity instance by a unique external ID)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('trackedEntityInstances', {\n  ou: 'DiszpKrYNg8',\n  filter: ['flGbXLXCrEo:Eq:124', 'w75KJ2mc4zz:Eq:John'],\n});\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"patch"},"patch"),(0,r.yg)("p",null,"patch(resourceType, path, data, ","[options]",", ","[callback]",") \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Patch a record. A generic helper function to send partial updates on one or more object properties."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"You are not required to send the full body of object properties."),(0,r.yg)("li",{parentName:"ul"},"This is useful for cases where you don't want or need to update all properties on a object.")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"dataElements"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"path"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The ",(0,r.yg)("inlineCode",{parentName:"td"},"id")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"path")," to the ",(0,r.yg)("inlineCode",{parentName:"td"},"object")," to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83/{collection-name}/{object-id}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Data to update. Include only the fields you want to update. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},'{name: "New Name"}'))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional configuration, including params for the update ({preheatCache: true, strategy: 'UPDATE', mergeMode: 'REPLACE'}). Defaults to ",(0,r.yg)("inlineCode",{parentName:"td"},"{operationName: 'patch', apiVersion: state.configuration.apiVersion, responseType: 'json'}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElement)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"patch('dataElements', 'FTRrcoaog83', { name: 'New Name' });\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"request"},"request"),(0,r.yg)("p",null,"request(configuration, axiosRequest) \u21d2 ",(0,r.yg)("code",null,"Promise")),(0,r.yg)("p",null,"The request client takes configuration from state and an axios request object\nthen (1) logs the method and URL, (2) applies standard headers and auth\nbefore spreading the rest of the axios configuration, and (3) executes an\naxios request."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns"),": ",(0,r.yg)("code",null,"Promise")," - a promise that will resolve to either a response object or an error object.  "),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"configuration"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"object")),(0,r.yg)("td",{parentName:"tr",align:null},"configuration must have a username and password")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"axiosRequest"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"object")),(0,r.yg)("td",{parentName:"tr",align:null},"the axiosRequest contains valid axios params: ",(0,r.yg)("a",{parentName:"td",href:"https://axios-http.com/docs/req_config"},"https://axios-http.com/docs/req_config"))))),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"selectid"},"selectId"),(0,r.yg)("p",null,"selectId(resourceType) \u21d2 ",(0,r.yg)("code",null,"string")),(0,r.yg)("p",null,"Determines the attribute name for a DHIS2 system ID given a resource type."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string"))))),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"update"},"update"),(0,r.yg)("p",null,"update(resourceType, path, data, ","[options]",", ","[callback]",") \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Update data. A generic helper function to update a resource object of any type.\nUpdating an object requires to send ",(0,r.yg)("inlineCode",{parentName:"p"},"all required fields")," or the ",(0,r.yg)("inlineCode",{parentName:"p"},"full body")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"dataElements"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"path"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The ",(0,r.yg)("inlineCode",{parentName:"td"},"id")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"path")," to the ",(0,r.yg)("inlineCode",{parentName:"td"},"object")," to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83/{collection-name}/{object-id}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Data to update. It requires to send ",(0,r.yg)("inlineCode",{parentName:"td"},"all required fields")," or the ",(0,r.yg)("inlineCode",{parentName:"td"},"full body"),". If you want ",(0,r.yg)("inlineCode",{parentName:"td"},"partial updates"),", use ",(0,r.yg)("inlineCode",{parentName:"td"},"patch")," operation.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"filter"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"dimension")," and other import parameters), request config (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and the DHIS2 apiVersion.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a program)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('programs', 'qAZJCrNJK8H', {\n  name: '14e1aa02c3f0a31618e096f2c6d03bed',\n  shortName: '14e1aa02',\n  programType: 'WITHOUT_REGISTRATION',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(an event)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('events', 'PVqUD2hvU4E', {\n  program: 'eBAyeGv0exc',\n  orgUnit: 'Ngelehun CHC',\n  status: 'COMPLETED',\n  storedBy: 'admin',\n  dataValues: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a trackedEntityInstance)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('trackedEntityInstances', 'IeQfgUtGPq2', {\n  created: '2015-08-06T21:12:37.256',\n  orgUnit: 'TSyzvBiovKh',\n  createdAtClient: '2015-08-06T21:12:37.256',\n  trackedEntityInstance: 'IeQfgUtGPq2',\n  lastUpdated: '2015-08-06T21:12:37.257',\n  trackedEntityType: 'nEenWmSyUEp',\n  inactive: false,\n  deleted: false,\n  featureType: 'NONE',\n  programOwners: [\n    {\n      ownerOrgUnit: 'TSyzvBiovKh',\n      program: 'IpHINAT79UW',\n      trackedEntityInstance: 'IeQfgUtGPq2',\n    },\n  ],\n  enrollments: [],\n  relationships: [],\n  attributes: [\n    {\n      lastUpdated: '2016-01-12T00:00:00.000',\n      displayName: 'Last name',\n      created: '2016-01-12T00:00:00.000',\n      valueType: 'TEXT',\n      attribute: 'zDhUuAYrxNC',\n      value: 'Russell',\n    },\n    {\n      lastUpdated: '2016-01-12T00:00:00.000',\n      code: 'MMD_PER_NAM',\n      displayName: 'First name',\n      created: '2016-01-12T00:00:00.000',\n      valueType: 'TEXT',\n      attribute: 'w75KJ2mc4zz',\n      value: 'Catherine',\n    },\n  ],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataSet)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataSets', 'lyLU2wR22tC', { name: 'OpenFN Data Set', periodType: 'Weekly' });\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataSetNotification)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataSetNotificationTemplates', 'VbQBwdm1wVP', {\n  dataSetNotificationTrigger: 'DATA_SET_COMPLETION',\n  notificationRecipient: 'ORGANISATION_UNIT_CONTACT',\n  name: 'Notification',\n  messageTemplate: 'Hello Updated,\n  deliveryChannels: ['SMS'],\n  dataSets: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElement)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataElements', 'FTRrcoaog83', {\n  aggregationType: 'SUM',\n  domainType: 'AGGREGATE',\n  valueType: 'NUMBER',\n  name: 'Paracetamol',\n  shortName: 'Para',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElementGroup)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataElementGroups', 'QrprHT61XFk', {\n  name: 'Data Element Group 1',\n  dataElements: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataElementGroupSet)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataElementGroupSets', 'VxWloRvAze8', {\n  name: 'Data Element Group Set 4',\n  dataDimension: true,\n  shortName: 'DEGS4',\n  dataElementGroups: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataValueSet)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataValueSets', 'AsQj6cDsUq4', {\n  dataElement: 'f7n9E0hX8qk',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  value: '12',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a dataValueSet with related dataValues)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataValueSets', 'Ix2HsbDMLea', {\n  dataSet: 'pBOMPrpg1QX',\n  completeDate: '2014-02-03',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  dataValues: [\n    {\n      dataElement: 'f7n9E0hX8qk',\n      value: '1',\n    },\n    {\n      dataElement: 'Ix2HsbDMLea',\n      value: '2',\n    },\n    {\n      dataElement: 'eY5ehpbEsB7',\n      value: '3',\n    },\n  ],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(a single enrollment)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('enrollments', 'CmsHzercTBa' {\n  trackedEntityInstance: 'bmshzEacgxa',\n  orgUnit: 'TSyzvBiovKh',\n  program: 'gZBxv9Ujxg0',\n  enrollmentDate: '2013-10-17',\n  incidentDate: '2013-10-17',\n});\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"upsert"},"upsert"),(0,r.yg)("p",null,"upsert(resourceType, query, data, ","[options]",", ","[callback]",") \u21d2 ",(0,r.yg)("code",null,"Operation")),(0,r.yg)("p",null,"Upsert a record. A generic helper function used to atomically either insert a row, or on the basis of the row already existing, UPDATE that existing row instead."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Throws"),":"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("code",null,"RangeError")," - Throws range error")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of a resource to ",(0,r.yg)("inlineCode",{parentName:"td"},"upsert"),". E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntityInstances"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"query"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"A query object that allows to uniquely identify the resource to update. If no matches found, then the resource will be created.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"The data to use for update or create depending on the result of the query.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional configuration that will be applied to both the ",(0,r.yg)("inlineCode",{parentName:"td"},"get")," and the ",(0,r.yg)("inlineCode",{parentName:"td"},"create")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"update")," operations.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")," ",(0,r.yg)("em",{parentName:"p"},"(Example ","`","expression.js","`"," of upsert)"),"  "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"upsert('trackedEntityInstances', {\n ou: 'TSyzvBiovKh',\n filter: ['w75KJ2mc4zz:Eq:Qassim'],\n}, {\n orgUnit: 'TSyzvBiovKh',\n trackedEntityType: 'nEenWmSyUEp',\n attributes: [\n   {\n     attribute: 'w75KJ2mc4zz',\n     value: 'Qassim',\n   },\n ],\n});\n")),(0,r.yg)("hr",null))}u.isMDXComponent=!0}}]);